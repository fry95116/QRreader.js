
<head>
  <title>Minimal PWA</title>
  <meta name="viewport" content="width=device-width, user-scalable=no" />
  <meta name="apple-mobile-web-app-capable" content="yes">

  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" type="text/css" href="main.css">
  <link rel="icon" href="./e.png" type="image/png" />
</head>

<body>
  <div class="revision">Revision 8</div>
  <img src="pwa-fonts.png">
  <div class="main-text">
    Minimal PWA, open Console for more!
  </div>
  <div class="network-message">
    Network:
    <span id="network-status" class="">Good</span>
  </div>
  <script type="text/javascript">
    if (navigator.serviceWorker != null) {
      navigator.serviceWorker.register('sw.js')
      .then(function(registration) {
        console.log('Registered events at scope: ', registration.scope);
      });
    }

    var statusEl = document.querySelector('#network-status')
    if (!navigator.onLine) {
      statusEl.classList = ['is-offline']
      statusEl.innerText = 'Offline'
    }

    var msg = document.querySelector('.main-text')
    

   // for some reason safari on mac can debug ios safari page but not ios home screen web apps 
   var d = 'typeof navigator : ' + typeof navigator + '<br>'; //object
    d += 'typeof MediaDevices:' +  typeof MediaDevices + '<br>';
    d += 'typeof navigator.mediaDevices : ' + typeof navigator.mediaDevices + '<br>'; // undefined
    // try alternates
    d += 'typeof navigator.getUserMedia  : ' + typeof navigator.getUserMedia + '<br>'; // undefined
    d += 'typeof navigator.webkitGetUserMedia  : ' + typeof navigator.webkitGetUserMedia + '<br>'; // undefined
    status1.innerHTML = d;
  </script>
</body>
